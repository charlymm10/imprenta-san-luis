<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Imprenta San Luis</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>
<header>
    <img src="logo imprenta.png" alt="Logo" class="logo">
    <h1>Imprenta San Luis</h1>
    <form class="search-form" id="searchForm" onsubmit="return buscarPedido(event);">
        <label for="pedidoId">ID de Pedido:</label>
        <input type="text" id="pedidoId" name="pedidoId" required pattern="^[0-9]+$" title="Solo se permiten números.">
        <button type="submit">Buscar</button>
    </form>
    <div id="resultadoBusqueda" class="resultado-busqueda">
        <p id="estadoPedido">Resultado: -</p>
    </div>
</header>
<main class="centered-content">
    <section id="productos">
        <h2>Productos</h2>
        <div class="gallery">
            <!-- Primera fila de productos -->
            <div class="gallery-row" id="fila1">
                <div class="producto">
                    <img src="sobre.png" alt="Sobre" class="producto-imagen">
                    <h3>Sobre</h3>
                    <p class="info">Precio: $0.7</p>
                </div>
                <div class="producto">
                    <img src="facia.png" alt="Facia Copia" class="producto-imagen">
                    <h3>Facia Copia</h3>
                    <p class="info">Precio: $0.4</p>
                </div>
                <div class="producto">
                    <img src="ruta/a/imagen_facia_flour.jpg" alt="Facia Flour" class="producto-imagen">
                    <h3>Facia Flour</h3>
                    <p class="info">Precio: $0.75</p>
                </div>
                <div class="producto">
                    <img src="ruta/a/imagen_sobre_bolsa.jpg" alt="Sobre Bolsa" class="producto-imagen">
                    <h3>Sobre Bolsa</h3>
                    <p class="info">Precio: $3.5</p>
                </div>
                <div class="producto">
                    <img src="ruta/a/imagen_carpeta.jpg" alt="Carpeta" class="producto-imagen">
                    <h3>Carpeta</h3>
                    <p class="info">Precio: $5</p>
                </div>
                <div class="producto">
                    <img src="ruta/a/imagen_tarjeta.jpg" alt="Tarjeta" class="producto-imagen">
                    <h3>Tarjeta</h3>
                    <p class="info">Precio: $2.0</p>
                </div>
                <div class="producto">
                    <img src="ruta/a/imagen_cartel.jpg" alt="Cartel" class="producto-imagen">
                    <h3>Cartel</h3>
                    <p class="info">Precio: $8.0</p>
                </div>
                <div class="producto">
                    <img src="ruta/a/imagen_etiqueta.jpg" alt="Etiqueta" class="producto-imagen">
                    <h3>Etiqueta</h3>
                    <p class="info">Precio: $1.5</p>
                </div>
                <div class="producto">
                    <img src="ruta/a/imagen_folleto.jpg" alt="Folleto" class="producto-imagen">
                    <h3>Folleto</h3>
                    <p class="info">Precio: $4.5</p>
                </div>
                <div class="producto">
                    <img src="ruta/a/imagen_invitacion.jpg" alt="Invitación" class="producto-imagen">
                    <h3>Invitación</h3>
                    <p class="info">Precio: $3.0</p>
                </div>
            </div>
            <!-- Segunda fila de productos -->
            <div class="gallery-row reverse" id="fila2">
                <div class="producto">
                    <img src="ruta/a/imagen_producto_11.jpg" alt="Producto 11" class="producto-imagen">
                    <h3>Producto 11</h3>
                    <p class="info">Precio: $6.0</p>
                </div>
                <div class="producto">
                    <img src="ruta/a/imagen_producto_12.jpg" alt="Producto 12" class="producto-imagen">
                    <h3>Producto 12</h3>
                    <p class="info">Precio: $7.0</p>
                </div>
                <div class="producto">
                    <img src="ruta/a/imagen_producto_13.jpg" alt="Producto 13" class="producto-imagen">
                    <h3>Producto 13</h3>
                    <p class="info">Precio: $8.0</p>
                </div>
                <div class="producto">
                    <img src="ruta/a/imagen_producto_14.jpg" alt="Producto 14" class="producto-imagen">
                    <h3>Producto 14</h3>
                    <p class="info">Precio: $9.0</p>
                </div>
                <div class="producto">
                    <img src="ruta/a/imagen_producto_15.jpg" alt="Producto 15" class="producto-imagen">
                    <h3>Producto 15</h3>
                    <p class="info">Precio: $10.0</p>
                </div>
                <div class="producto">
                    <img src="ruta/a/imagen_producto_16.jpg" alt="Producto 16" class="producto-imagen">
                    <h3>Producto 16</h3>
                    <p class="info">Precio: $11.0</p>
                </div>
                <div class="producto">
                    <img src="ruta/a/imagen_producto_17.jpg" alt="Producto 17" class="producto-imagen">
                    <h3>Producto 17</h3>
                    <p class="info">Precio: $12.0</p>
                </div>
                <div class="producto">
                    <img src="ruta/a/imagen_producto_18.jpg" alt="Producto 18" class="producto-imagen">
                    <h3>Producto 18</h3>
                    <p class="info">Precio: $13.0</p>
                </div>
                <div class="producto">
                    <img src="ruta/a/imagen_producto_19.jpg" alt="Producto 19" class="producto-imagen">
                    <h3>Producto 19</h3>
                    <p class="info">Precio: $14.0</p>
                </div>
                <div class="producto">
                    <img src="ruta/a/imagen_producto_20.jpg" alt="Producto 20" class="producto-imagen">
                    <h3>Producto 20</h3>
                    <p class="info">Precio: $15.0</p>
                </div>
            </div>
        </div>
    </section>
</main>
<footer>
    <p>© 2024 Imprenta San Luis. Todos los derechos reservados.</p>
</footer>

<script>
// Función para buscar el pedido
async function buscarPedido(event) {
    event.preventDefault(); // Evita que el formulario se envíe de forma convencional

    const pedidoId = document.getElementById('pedidoId').value; // Obtiene el ID del pedido

    try {
        // Detecta si el sitio está usando HTTP o HTTPS
        const protocolo = window.location.protocol; // Devuelve "http:" o "https:"
        const dominio = window.location.hostname; // Obtiene el dominio actual

        // Genera la URL para la consulta
        const urlConsulta = `${protocolo}//imprentasanluis.atwebpages.com/consulta_pagina_web2.php?pedidoId=${pedidoId}`;

        const response = await fetch(urlConsulta);

        // Manejar errores de la red
        if (!response.ok) {
            throw new Error('Error en la red');
        }

        const data = await response.json(); // Convierte la respuesta a JSON

        // Actualiza el contenido del elemento con el estado del pedido
        const estadoPedidoElement = document.getElementById('estadoPedido');
        if (data.estado) {
            estadoPedidoElement.textContent = `Estado del Pedido: ${data.estado}`;
        } else {
            estadoPedidoElement.textContent = `Error: ${data.error}`;
        }
    } catch (error) {
        const estadoPedidoElement = document.getElementById('estadoPedido');
        estadoPedidoElement.textContent = `Error: ${error.message}`;
    }
}
</script>
</body>
</html>
